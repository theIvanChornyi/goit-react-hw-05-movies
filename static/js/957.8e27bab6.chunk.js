"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[957],{957:function(e,t,a){a.r(t),a.d(t,{default:function(){return A}});var n=a(982),s=a(861),i=a(885),r=a(757),o=a.n(r),c=a(777),l=a(791),u=a(731),_=a(689),m=a(601),v="MoviePreviewCard_item__Wu4TU",d="MoviePreviewCard_link__OyTQZ",p="MoviePreviewCard_thumb__Qe5LY",h="MoviePreviewCard_subtitle__wcusk",f="MoviePreviewCard_text__Rf+iu",x=a(184),g=function(e){var t=e.data,a=t.poster_path,n=t.title,s=t.release_date,i=t.id,r=t.overview,o=(0,_.TH)();return(0,x.jsx)("li",{className:v,children:(0,x.jsxs)(u.rU,{className:d,to:"/movies/".concat(i),state:{from:o},children:[(0,x.jsx)("div",{className:p,children:(0,x.jsx)("img",{width:"100px",src:a?"https://image.tmdb.org/t/p/w200".concat(a):m,alt:n})}),(0,x.jsxs)("span",{children:[(0,x.jsx)("p",{className:h,children:n}),(0,x.jsx)("p",{className:f,children:s}),(0,x.jsx)("p",{className:f,children:r})]})]})})},j="Movies_container__+-Cnt",b="Movies_moviesList__lstJL",N="Movies_messageEmpty__Jw6CB",w=a(191),P=a(627),S="Paginator_paginator__rIDQQ",C="Paginator_list__2SO0q",M="Paginator_item__MJ3DA",k="Paginator_button__TBgKi",y="Paginator_active__HwRvN",R=function(e){var t=e.totalPages,a=e.paginationFunc,s=+e.page;return(0,x.jsx)("div",{className:S,children:(0,x.jsx)("ul",{className:C,children:(0,n.Z)(Array(t)).map((function(e,t){var n=t+1;return(0,x.jsx)("li",{className:M,children:(0,x.jsx)("button",{className:s!==n?k:y,onClick:function(){return a({number:n})},type:"button",children:n})},t)}))})})},Z=a(617),F="SearchForm_form__o80os",L="SearchForm_wrapper__JqfAl",E="SearchForm_input__HOxJo",O="SearchForm_button__UXY06",D=function(e){var t=e.onHandleSubmit,a=(0,l.useState)(""),n=(0,i.Z)(a,2),s=n[0],r=n[1];return(0,x.jsx)("form",{className:F,onSubmit:function(e){e.preventDefault(),t({value:s})},children:(0,x.jsxs)("div",{className:L,children:[(0,x.jsx)("input",{name:"film",onChange:function(e){return r(e.target.value)},placeholder:"Film name",className:E,value:s}),s&&(0,x.jsx)("button",{className:O,type:"submit",children:(0,x.jsx)(Z.G4C,{})})]})})},H=a(568),J=a(480),A=function(){var e,t,a=(0,l.useState)([]),r=(0,i.Z)(a,2),_=r[0],m=r[1],v=(0,l.useState)(1),d=(0,i.Z)(v,2),p=d[0],h=d[1],f=(0,u.lr)(),S=(0,i.Z)(f,2),C=S[0],M=S[1],k=(0,P.j)(w.e.IDLE),y=k.isResolved,Z=k.isLoad,F=k.isRejected,L=k.setStateMachine,E=null!==(e=C.get("filmName"))&&void 0!==e?e:"",O=null!==(t=C.get("pageNumber"))&&void 0!==t?t:1,A=function(e){var t=e.value,a=void 0===t?E:t,n=e.number;M(a?{filmName:a,pageNumber:void 0===n?1:n}:{})};(0,l.useEffect)((function(){function e(){return(e=(0,s.Z)(o().mark((function e(){var t,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.Pt)(E,O);case 3:t=e.sent,a=t.results,s=t.total_pages,m((0,n.Z)(a)),h(s),L(w.e.RESOLVE),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),L(w.e.ERROR),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}E&&(L(w.e.LOAD),function(){e.apply(this,arguments)}())}),[E,O,L]);var Q=_.length;return(0,x.jsxs)("section",{className:j,children:[(0,x.jsx)(D,{onHandleSubmit:A}),Z&&(0,x.jsx)(H.i,{}),Q>0&&y&&(0,x.jsx)("ul",{className:b,children:_.map((function(e){var t=e.poster_path,a=e.title,n=e.id,s=e.release_date,i=e.overview;return(0,x.jsx)(g,{data:{poster_path:t,title:a,release_date:s,id:n,overview:i}},n)}))}),y&&0===Q&&(0,x.jsxs)("h2",{className:N,children:["Unfortunately, we do not have information about film like ",C,". :("]}),F&&(0,x.jsx)(J.t,{}),p>1&&y&&(0,x.jsx)(R,{totalPages:p,page:O,paginationFunc:A})]})}},601:function(e,t,a){e.exports=a.p+"static/media/defaultMovie.3a513827db2776fc9f0b.jpg"}}]);
//# sourceMappingURL=957.8e27bab6.chunk.js.map